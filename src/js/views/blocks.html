<div class="row">
    <div class="col-lg-5">
        <h1>Blocks</h1>
    </div>
    <div class="col-lg-7">
        <ul uib-pagination total-items="ctrl.totalCount"
                        items-per-page="ctrl.numPerPage"
                        ng-model="ctrl.currentPage"
                        ng-change="ctrl.pageChanged()"
                        class="pull-right pagination"
                        boundary-links="true"
                        rotate="false" max-size="5"></ul>

    </div>
</div>
<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-primary">
            <div class="panel-heading">
                <h3 class="panel-title">Last block #{{ctrl.height}}</h3>
            </div>
            <div class="panel-body">
                <table class="table">
                    <thead>
                    <tr>
                        <th>#</th>
                        <th>Timestamp</th>
                        <th>Base Target</th>
                        <th>Signature</th>
                        <th>Generator</th>
                        <th>Txs</th>
                        <th><span class="pull-right">Amount</span></th>
                        <th><span class="pull-right">Fee</span></th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="item in ctrl.blocks">
                        <td><waves-block-ref height="item.height"/></td>
                        <td>{{item.timestamp|date:'yyyy-MM-dd HH:mm:ss'}}</td>
                        <td>{{item["nxt-consensus"]["base-target"]}}</td>
                        <td><span class="mono">{{item.signature|limitTo:15}}...</span></td>
                        <td><waves-endpoint-ref endpoint="item.generator" max-length="17"></waves-endpoint-ref></td>
                        <td>{{item.transactions.length}}</td>
                        <td><span class="pull-right">{{item.totalAmount.amount|wavelets}}</span></td>
                        <td><span class="pull-right">{{item.fee|wavelets}}</span></td>
                    </tr>
                    </tbody>
                </table>

            </div>
        </div>

    </div>
</div>
